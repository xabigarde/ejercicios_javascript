<!DOCTYPE html>
<html>

<head>
  <script>

    /**
     * 
     * */
    function arrayOrdenado(intArray) {
      for (let i = 1; i < intArray.length; i++) {
        if (intArray[i - 1] > intArray[i])
          return false;
      }
      return true;
    }

    /**
     * */
    function pares(intArray) {
      const pares = [];
      for (let i = 0; i < intArray.length; i++) {
        if (intArray[i] % 2 == 0 && !pares.includes(intArray[i]))
          pares.push(intArray[i]);
      }
      return pares;
    }

    /**
     * */
    function elementosSinRepetir(array) {
      const arraySinRepeticiones = [];
      for (let i = 0; i < array.length; i++) {
        if (!arraySinRepeticiones.includes(array[i]))
          arraySinRepeticiones.push(array[i]);
      }
      return arraySinRepeticiones;
    }

    /**
     * */
    function invertido(array) {
      const arrayInvertido = [];
      for (let i = array.length - 1; i >= 0; i--) {
        arrayInvertido.push(array[i]);
      }
      return arrayInvertido;
    }

    /**
     * */
    function capturarInputDelUsuario(inputId) {
      return document.getElementById(inputId).value.split(",").map(Number);
    }

    /**
     * */
    function añadirPersona(nameInputId, ageInputId) {
      const nombre = document.getElementById(nameInputId).value;
      const edad = Number(document.getElementById(ageInputId).value);
      _listaDePersonas.push({ name: nombre, age: edad });

      const str = personArrayToString(_listaDePersonas);
      document.getElementById("readInput5").innerHTML = "[" + str + "]";
    }

    /**
     * */
    function borrarPersonas() {
      // Lectura interesante sobre como borrar todos los elementos de un array:
      // https://stackoverflow.com/questions/1232040/how-do-i-empty-an-array-in-javascript
      _listaDePersonas.length = 0;
      const str = personArrayToString(_listaDePersonas);
      document.getElementById("readInput5").innerHTML = "[" + str + "]";
      document.getElementById("result5").innerHTML = "[" + str + "]";
    }

    /**
     * */
    function personArrayToString(personArray) {
      const stringArray = personArray.map(function (p) {
        return '{name:"' + p.name + '", age:"' + p.age + '"}';
      })
      return stringArray.join(", ");
    }

    /**
     * */
    function ordenarPersonas(personArray) {
      return personArray.sort(function (a, b) {
        if (a.age < b.age)
          return -1;
        if (a.age > b.age)
          return 1;

        // Llegados a este punto, las dos personas tienen la misma edad
        if (a.name < b.name)
          return -1;
        if (a.name > b.name)
          return 1;

        return 0; // caso final por defecto: misma edad y mismo nombre
      }); // fin del .sort()
    }



    function ejercicio1() {
      const numeros = capturarInputDelUsuario("input1");
      document.getElementById("readInput").innerHTML = "[" + numeros + "]";
      if (arrayOrdenado(numeros))
        document.getElementById("result1").innerHTML = "Sí";
      else
        document.getElementById("result1").innerHTML = "NO";
    }

    function ejercicio2() {
      const numeros = capturarInputDelUsuario("input2");
      document.getElementById("readInput2").innerHTML = "[" + numeros + "]";
      document.getElementById("result2").innerHTML = "[" + pares(numeros) + "]";
    }

    function ejercicio3() {
      const numeros = capturarInputDelUsuario("input3");
      document.getElementById("readInput3").innerHTML = "[" + numeros + "]";
      document.getElementById("result3").innerHTML = "[" + elementosSinRepetir(numeros) + "]";
    }

    function ejercicio4() {
      const numeros = capturarInputDelUsuario("input4");
      document.getElementById("readInput4").innerHTML = "[" + numeros + "]";
      document.getElementById("result4").innerHTML = "[" + invertido(numeros) + "]";
    }

    const _listaDePersonas = [];
    function ejercicio5() {
      let str = personArrayToString(_listaDePersonas);
      document.getElementById("readInput5").innerHTML = "[" + str + "]";
      let personasEnOrden = ordenarPersonas(_listaDePersonas);
      str = personArrayToString(_listaDePersonas);
      document.getElementById("result5").innerHTML = "[" + str + "]";
    }

  </script>
</head>

<body>

  <h1>Ejercicios JavaScript</h1>
  <p><strong>Ejercicio 1:</strong> Dado un array de números enteros identifica si el array está ordenado de manera
    ascendente o no. </p>
  <form>
    <button type="button" onclick="ejercicio1()">Ejercicio 1</button>
    <input list="numberArray" type="text" id="input1" placeholder="-2,-1, 0, 1, 2, 3, 4, 5..."><br>
    <datalist id="numberArray">
      <option value="-2,-1, 1, 2, 3, 4, 5"></option>
      <option value="-5, 0, 6, 1, 6,-5, 6, 8, 2, 1"></option>
      <option value="-5, 0, 6, 1, 6,-5, 6, 8, 2, 1"></option>
      <option value="-2,-1, 0, 1, 2, 3, 4, 5"></option>
      <option value="-2,-1, 0, 1, 2, 3, 4, 5"></option>
    </datalist>
  </form>

  <p>Input del usuario: <span id="readInput"></span></p>
  <p>EJERCICIO 1: Está el array ordenado? <span id="result1"></span></p>
  <hr>

  <!--------------------------------------------------------------->
  <p><strong>Ejercicio 2:</strong> Crea una función que dado un array de números enteros (positivos y
    negativos),
    devuelve
    un nuevo array compuesto sólamente de los números pares del array original. Puntos extra si no se repiten los
    valores del nuevo array. </p>
  <pre>
        function pares(array){
        // return array_de_pares
        }
</pre>
  <form>
    <button type="button" onclick="ejercicio2()">Ejercicio 2</button>
    <input list="numberArray" type="text" id="input2" placeholder="-2,-1, 0, 1, 2, 3, 4, 5..."><br>
  </form>

  <p>Input del usuario: <span id="readInput2"></span></p>
  <p>EJERCICIO 2: Array de pares: <span id="result2"></span></p>
  <hr>

  <!--------------------------------------------------------------->
  <p><strong>Ejercicio 3:</strong> Dado un array de números enteros, devuelve un nuevo array en el que no haya valores
    repetidos. Por ejemplo:
  </p>
  <pre>
    [-5,0,6,1,6,-5,6,8,2,1] => [-5,0,6,1,8,2] 
  </pre>
  <form>
    <button type="button" onclick="ejercicio3()">Ejercicio 3</button>
    <input list="numberArray" type="text" id="input3" placeholder="-2,-1, 0, 1, 2, 3, 4, 5..."><br>
  </form>

  <p>Input del usuario: <span id="readInput3"></span></p>
  <p>EJERCICIO 3: Array sin elementos repetidos: <span id="result3"></span></p>
  <hr>


  <!--------------------------------------------------------------->
  <p><strong>Ejercicio 4:</strong> Dado un array de números enteros, devuelve un nuevo array en el que no haya valores
    repetidos. Por ejemplo:
  </p>
  <pre>
    [-5,0,6,1,6,-5,6,8,2,1] => [-5,0,6,1,8,2] 
  </pre>
  <form>
    <button type="button" onclick="ejercicio4()">Ejercicio 4</button>
    <input list="numberArray" type="text" id="input4" placeholder="-2,-1, 0, 1, 2, 3, 4, 5..."><br>
  </form>

  <p>Input del usuario: <span id="readInput4"></span></p>
  <p>EJERCICIO 4: Array en orden inverso: <span id="result4"></span></p>
  <hr>

  <!--------------------------------------------------------------->
  <p><strong>Ejercicio 5:</strong> Dado un array de Personas, devuelve un nuevo array con las mismas personas, ordenadas
    según 1) edad, y 2) Nombre (en caso de misma edad, ordenar alfabéticamente).
    Ejemplo de objetos simples de personas:</p>
  <pre>
    const personA = {name:"Jon", age:50};
    const personB = {name:"Oliver", age:20};
    const personC = {name:"Juan", age:25};
    const personD = {name:"Amaia", age:25};</pre>
  <p>Ejemplo de array de personas desordenado:</p>
  <pre>
    personas = [{name:"John", age:50}, {name:"Oliver", age:25}, {name:"Juan", age:25}, {name:"Amaia", age:25}]</pre>
  <p>Resultado esperado:</p>
  <pre>
    const personasOrdenado = [ {name:"Oliver", age:20}, {name:"Amaia", age:25}, {name:"Juan", age:25}, {name:"Jon", age:50} ]</pre>
  <form>

    <input list="nombres" type="text" id="input5a" placeholder="Alicia">
    <input type="number" id="input5b" placeholder="31" size="3">
    <button type="button" onclick="añadirPersona('input5a','input5b');">Añadir</button>
    <button type="button" onclick="borrarPersonas()">Borrar todos</button><br>
    <datalist id="nombres">
      <option value="John"></option>
      <option value="Miguel"></option>
      <option value="Joaquín"></option>
      <option value="Amaia"></option>
      <option value="Marta"></option>
    </datalist>
    <button type="button" onclick="ejercicio5()">Ejercicio 5</button>
  </form>

  <p>Input del usuario: <span id="readInput5"></span></p>
  <p>EJERCICIO 5: Personas ordenadas según edad y nombre: <span id="result5"></span></p>
  <hr>


</body>

</html>